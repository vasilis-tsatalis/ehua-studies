<%- include("./partials/header") %>
<%- include("./navbar/menu_s") %>

<br>

<h2 class="border-bottom">My Courses</h2>
<br>
<div class="table-responsive">
  <table class="table table-striped table-sm" id="all_courses">
    <thead>
      <tr>
        <!-- <th scope="col">Κωδικός Τμήματος</th>
        <th scope="col">Περιγραφή τμήματος</th> -->
        <th scope="col">_id</th>
        <th scope="col">Name</th>
        <th scope="col">Description</th>
        <th scope="col">Active</th>
        <th scope="col">Gravity</th>
        <th scope="col">Section</th>
        <th scope="col">Semester</th>
        <th scope="col">Start Date</th>
        <th scope="col">End Date</th>
      </tr>
    </thead>
    <tbody>
      <% if (typeof courses != 'undefined') { %> <% courses.forEach(course => { %>
      <tr>
          <!-- <td<%= course.department_id %></td>
          <td<%= course.department_desc %></td> -->
          <td scope="row"><%= course.id %></td>
          <td><%= course.name %></td>
          <td><%= course.description %></td>
          <td><%= course.is_active %></td>
          <td><%= course.gravity %></td>
          <td><%= course.section_id %></td>
          <td><%= course.semester_type_desc %></td>
          <td><%= course.semester_type_strd %></td>
          <td><%= course.semester_type_endd %></td>
      </tr>
      <% }) %> <% } %>
    </tbody>
  </table>

  <br>
  <button type="button" class="btn btn-outline-info btn-sm" id="download-button-csv">
    export CSV
  </button>
  <button type="button" class="btn btn-outline-warning btn-sm" onclick="tableToJSON('myTable')">
    export JSON
  </button>
  <button type="button" class="btn btn-outline-success btn-sm" onclick="exportTableToExcel('all_courses', 'courses')">
    export Excel
  </button>

</div>

<script>
  document.getElementById("download-button-csv").addEventListener("click", function () {
  var html = document.querySelector("table").outerHTML;
  htmlToCSV(html, "courses.csv");
  });
</script>

<br>

<%- include("./partials/footer") %>