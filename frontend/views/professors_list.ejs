<%- include("./partials/header") %>
<%- include("./navbar/menu") %>

<br>

<h2 class="border-bottom pb-4 mb-2">Καθηγητές Πανεπιστημείου</h2>

<div class="table-responsive">
  <table class="table table-striped table-sm" id="table">
    <thead>
      <tr>
        <th scope="col">Username</th>
        <th scope="col">Όνομα</th>
        <th scope="col">Επώνυμο</th>
        <th scope="col">Ημερ.Γεν.</th>
        <th scope="col">Διεύθυνση</th>
        <th scope="col">Πόλη</th>
        <th scope="col">Τ.Κ.</th>
        <th scope="col">Τηλέφωνο Οικίας</th>
        <th scope="col">Τηλέφωνο Γραφείου</th>
        <th scope="col">Κινητό</th>
        <th scope="col">Ηλεκ.Ταχ.</th>
        <th scope="col">Τίτλος</th>
        <th scope="col">Θέση</th>
        <th scope="col">Ενεργός</th>
        <th scope="col">Σημειώσεις</th>
      </tr>
    </thead>
    <tbody>
      <% if (typeof professors != 'undefined') { %> <% professors.forEach(professor => { %>
      <tr>
          <th scope="row"><strong><%= professor.username %></strong></th>
          <td><%= professor.first_name %></td>
          <td><%= professor.last_name %></td>
          <td><%= professor.date_of_birth %></td>
          <td><%= professor.address %></td>
          <td><%= professor.city %></td>
          <td><%= professor.zipcode %></td>
          <td><%= professor.telephone %></td>
          <td><%= professor.office_phone %></td>
          <td><%= professor.mobile %></td>
          <td><%= professor.email %></td>
          <td><%= professor.title %></td>
          <td><%= professor.level %></td>
          <td><%= professor.is_active %></td>
          <td><%= professor.notes %></td>
      </tr>
      <% }) %> <% } %>
    </tbody>
  </table>

  <br>
  <button type="button" class="btn btn-outline-info btn-sm" onclick="tableToCSV()">
      export CSV
  </button>
  <!-- <button type="button" class="btn btn-outline-warning btn-sm" onclick="tableToJSON()">
    export JSON
</button> -->

</div>

<script type="text/javascript">

const table = document.querySelector('table')
const [header] = table.tHead.rows
const props = [...header.cells].map(h => h.textContent)
const rows = [...table.rows].map(r => {
  const entries = [...r.cells].map((c, i) => {
    return [props[i], c.textContent]
  })
  return Object.fromEntries(entries)
})
console.log(rows)
alert(rows)

</script>


<br>

<%- include("./partials/footer") %>
